{% extends 'base.html' %}
{% load static %}

{% block title %}Browse Anime{% endblock  %}
{% block stylesheet %}<link rel="stylesheet" href="{% static 'info/info.css' %}" >{% endblock %}

{% block content %}

    <div class="container">
        <section id="browse-form">
            <form class="form" action="/browse/anime">
                <div class="row">
                    {% for field in form %}
                    <div class="col-6 control-div">
                        <div class="form-controls">
                            {{ field.label_tag }}
                            {{ field }}
                            {{ field.error }}
                        </div>
                    </div>
                    {% endfor %}
                    <div class="col-12">
                        <button>Submit</button>
                    </div>
                </div>
                
            </form>
        </section>

        {% if shows %}
            <section id="browse-list">
                <h2>Results</h2>
                <ul>
                {% for show in shows %}
                    <li>
                        <a href="{% url 'anime-details' show.mal_id %}" target="_blank">
                            <div class="row">
                                <div class="col-3 browse-li-div browse-li-img">
                                    <img src="{{show.images.webp.image_url}}" class="img-fluid" alt="{{show.title}}"></img>
                                </div>
                                <div class="col-9 browse-li-div">
                                    <h3 class="browse-li-heading">
                                        {% if show.title_english %}
                                            {{show.title_english}}
                                        {% else %}
                                            {{show.title}}
                                        {% endif %}
                                    </h3>
                                    <div>
                                        <span class="extra-info-box carousel-text">{{show.score}}</span>
                                        <span class="extra-info-box carousel-text">{{show.type}}</span>
                                        <span class="extra-info-box carousel-text">{{show.aired.from|slice:":10"}}</span>
                                    </div>
                                    <p class="synopsis">
                                        {{show.synopsis}}
                                    </p>
                                </div>
                            </div>
                        </a>
                    </li>
                {% endfor %}
                </ul>
            </secion>
        {% endif %}
    </container>

{% endblock  %}